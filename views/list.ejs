<%-include("header")-%>

    <div class="box" id="heading">
        <h1>
            <%= listTitle %>
        </h1>
    </div>

    <div class="box">

        <% newListItems.forEach(function(item){ %>
            <form action="/delete" method="post">
            <div class="item">
                <input type="checkbox" name="checkbox" value="<%= item._id%>" onChange="this.form.submit()">
                <p>
                    <%= item.name %>
                </p>
            </div>
            <!-- we have added this hidden input so we can add item to the customized lists.  -->
            <input type="hidden" name="listName" value="<%=listTitle%>"></input>

        </form>
        <%});%>
 
        <!-- this route is responsible for adding new items. Giving the input a name, it allows us to tap into it inside the request body -->
                <form class="item" action="/" class="" method="post">
                    <input type="text" name="newItem" placeholder="New Item" autocomplete="off">
                    <button type="submit" name="list" value="<%=listTitle%>">+</button>

                </form>
    </div>
    <%-include("footer")-%>